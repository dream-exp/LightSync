<html>
    <head>
        <title>Socket.IO Test</title>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io.connect();
            $(function() {
                // サーバとのコネクションの作成
                // サーバからsocket.emitイベントでイベントが送られてきた際の処理を関数として登録する
                socket.on('greeting', function(data, fn) {
                    document.body.style.background = data.color;
                });
            });

            function onButtonClick () {
                socket.emit('control color', {colors: ['#FF0000', '#00FF00', '#0000FF']});
            }
        </script>
        <input type="button" value="サーバに送る" onclick="onButtonClick();"/>
    </head>
</html>
